<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>sprVan</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-2</depth>
  <persistent>0</persistent>
  <parentName>objSolid</parentName>
  <maskName>sprVanTop</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>global.done=0
state=0
image_speed=0
vspeed=12
with objDoorH image_angle=0
with objDoorH2 image_angle=0
image_angle=270
image_yscale=2
audio_play_sound(sndCarThrottle,0,false)
brake=0
sxeasy_play(working_directory+"\Release.mp3")
doorangle=0
reload=0
enemies=5
headdir=90
molotovs=2
with objEffector {
viewx=view_xview[0]
viewy=view_yview[0]
instance_create(x,y,objEffectorHouse)
view_xview[0]=viewx
view_yview[0]=viewy
instance_destroy()
}

test=objPlayer.persistent
objPlayer.persistent=0
thrown=0
global.loaded=1
objEffectorHouse.amount=0
game_save(working_directory+"\tempsave.sav")
global.loaded=0
objEffectorHouse.amount=180
objPlayer.persistent=test
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 scrXboxRestart()
if keyboard_check_pressed(ord(global.restartkey)) event_perform(ev_keypress,ord('R'))
if place_meeting(x,y,objPlayerMouse) {
global.dir=point_direction(x,y,objPlayer.x,objPlayer.y)
with objPlayer {
my_id=instance_create(x,y,objPlayerDead)
my_id.sprite_index=sprPBackCar
my_id.image_angle=global.dir
my_id.speed=3
my_id.direction=global.dir
instance_destroy()
}
}


if speed&gt;0 {
if y&gt;72 {
if brake=0 {
tile=tile_layer_find(-99,320,128)
if tile_exists(tile) tile_delete(tile)
tile=tile_layer_find(-99,384,128)
if tile_exists(tile) tile_delete(tile)
tile=tile_layer_find(-99,320,192)
if tile_exists(tile) tile_delete(tile)
}
}
if y&gt;216 {
if brake=0 {brake=1 audio_play_sound(sndCarSkid,0,false) audio_stop_sound(sndCarThrottle)}
friction=0.38
direction+=speed*0.4
image_angle+=speed*0.45
image_yscale=1
}
}
else {

if !instance_exists(objPlayer) {
if reload&gt;0 exit
}
if solid=0 mp_grid_add_instances(global.grid,objVan,1)
solid=1
if state=0 {
sprite_index=sprVanOpenDoor
if image_index&lt;12 image_index+=0.5 else {
sprite_index=sprVanTop
my_id=instance_create(x,y,objVanBottom)
my_id.image_angle=image_angle
state=1
}
}


if state=1 {
if instance_exists(objPlayer) {
if objPlayer.y&gt;384 {
if objPlayer.y&lt;448 {
if reload&gt;0 reload-=1 else {
reload=2
audio_play_sound(sndM16,0,false)
headx=lengthdir_x(30.2,325.8+image_angle)
heady=lengthdir_y(30.2,325.8+image_angle)
my_id=instance_create(x+headx,y+heady+9,objEBullet)
my_id.direction=point_direction(x+headx,y+heady,objPlayer.x,objPlayer.y)
my_id.speed=12
my_id.image_angle=my_id.direction
}
}
} else {
sprite_index=sprVanDoorsOpen
if image_index&lt;63 image_index+=0.25 else {image_index=0 thrown=0 if instance_number(objEnemy)+instance_number(objKnockedOut)=0 state=3}

if image_index&gt;43 and thrown=0 {
if instance_exists(objPlayer) {
dir=point_direction(x+headx,y+heady,objPlayer.x,objPlayer.y)
dist=point_distance(x+headx,y+heady,objPlayer.x,objPlayer.y)
} else {dir=90 dist=80}
my_id=instance_create(x+headx+lengthdir_x(10,dir),y+heady+lengthdir_y(10,dir),objMolotov)
my_id.limit=dist
my_id.speed=8
my_id.direction=dir
thrown=1
}

if reload&gt;0 reload-=1 else {
if enemies&gt;3 {
enemies-=1
reload=60
if enemies=3 enemy=objEnemyFat else enemy=objEnemyPatrol
my_id=instance_create(x+lengthdir_x(24,image_angle+90),y+lengthdir_y(24,image_angle+90),enemy)
if enemy=objEnemyPatrol {my_id.sprite_index=sprEWalkShotgun my_id.ammo=6}
my_id.direction=90
}
}
}
}
}



if state=3 {

if image_index&lt;63 image_index+=0.25 else {image_index=0 thrown=0 if instance_number(objEnemy)+instance_number(objKnockedOut)=0 state=5}
if image_index&gt;43 and thrown=0 {
if instance_exists(objPlayer) {
dir=point_direction(x+headx,y+heady,objPlayer.x,objPlayer.y)
dist=point_distance(x+headx,y+heady,objPlayer.x,objPlayer.y)
} else {dir=90 dist=80}
my_id=instance_create(x+headx+lengthdir_x(10,dir),y+heady+lengthdir_y(10,dir),objMolotov)
my_id.limit=dist+8
my_id.speed=8
my_id.direction=dir
thrown=1
}


if reload&gt;0 reload-=1 else {
if enemies&gt;0 {
reload=60
enemies-=1
if enemies=2 or enemy=0 enemy=objEnemyFat else enemy=objEnemyPatrol
my_id=instance_create(x+lengthdir_x(24,image_angle+90),y+lengthdir_y(24,image_angle+90),enemy)
if enemy=objEnemyPatrol {my_id.sprite_index=sprEWalkShotgun my_id.ammo=6}
my_id.direction=90
}
}
}




if state=5 {
if instance_exists(objPlayerMouse) {
if instance_number(objEnemy)+instance_number(objKnockedOut)+instance_number(objBurningGuy)=0 {
objEffector.brus=10
with objBottleExplosion {my_id=instance_create(x,y,objBombGround) my_id.image_angle=random(360) instance_destroy()}
with objWeapon instance_destroy()
my_id=instance_create(x+lengthdir_x(24,image_angle+90),y+lengthdir_y(24,image_angle+90),objBoss3)
my_id.direction=90
viewx=view_xview[0]
viewy=view_yview[0]
with objPlayerMouse {
my_id=instance_create(x,y,objPlayerMouseHouse)
my_id.dir=dir
my_id.maskon=1
global.maskon=1
instance_destroy()
}
objPlayer.active=0
view_xview[0]=viewx
view_yview[0]=viewy
state=6
sxeasy_play(working_directory+"\Static.mp3")
}
}
}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objGlassPanelHBroken">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with other {
i=0
repeat (16) {
my_id=instance_create(x+i*2,y+4,choose(objDebris,objDoorDebris))
my_id.direction=point_direction(x+16,y-8,my_id.x,my_id.y)
my_id.speed=random(4)
i+=1
}
}
instance_create(other.x,other.y,objGlassPanelDestroyedH)
with other instance_destroy()
if global.shake&lt;8 global.shake=8</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objGlassPanelH">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>with other {
i=0
repeat (16) {
my_id=instance_create(x+i*2,y+4,objShard)
my_id.direction=point_direction(x+16,y-8,my_id.x,my_id.y)
my_id.speed=random(4)
my_id=instance_create(x+i*2,y+4,choose(objDebris,objDoorDebris))
my_id.direction=point_direction(x+16,y-8,my_id.x,my_id.y)
my_id.speed=random(4)
i+=1
}
audio_play_sound(choose(sndGlass1,sndGlass2),0,false)
}
instance_create(other.x,other.y,objGlassPanelDestroyedH)
with other instance_destroy()
if global.shake&lt;8 global.shake=8
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objGlassPanelVBroken">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>
i=0
repeat (16) {
my_id=instance_create(other.x+3,other.y+i*2,choose(objDebris,objDoorDebris))
if other.x&lt;x my_id.direction=point_direction(other.x+8,other.y+16,my_id.x,my_id.y) else my_id.direction=point_direction(other.x-8,other.y+16,my_id.x,my_id.y)
my_id.speed=random(4)
i+=1
}
instance_create(other.x,other.y,objGlassPanelDestroyedV)
with other instance_destroy()
if global.shake&lt;8 global.shake=8</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objGlassPanelV">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>i=0
repeat (16) {
my_id=instance_create(other.x+3,other.y+i*2,objShard)
if other.x&lt;x my_id.direction=point_direction(other.x+8,other.y+16,my_id.x,my_id.y) else my_id.direction=point_direction(other.x-8,other.y+16,my_id.x,my_id.y)
my_id.speed=random(4)
my_id=instance_create(other.x,other.y+i*2,choose(objDebris,objDoorDebris))
if other.x&lt;x my_id.direction=point_direction(other.x+8,other.y+16,my_id.x,my_id.y) else my_id.direction=point_direction(other.x-8,other.y+16,my_id.x,my_id.y)
my_id.speed=random(4)
i+=1

}
audio_play_sound(choose(sndGlass1,sndGlass2),0,false)
instance_create(other.x,other.y,objGlassPanelDestroyedV)
with other instance_destroy()
if global.shake&lt;8 global.shake=8
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objDoorH2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>my_id=instance_create(other.x-32,other.y,objOfficeDoor)
my_id.direction=point_direction(x,y,other.x-16,other.y)
my_id.speed=2
my_id.image_angle=35
with other instance_destroy()</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="objDoorH">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>my_id=instance_create(other.x,other.y,objOfficeDoor)
my_id.direction=point_direction(x,y,other.x+16,other.y)
my_id.speed=2
my_id.image_angle=-35
with other instance_destroy()
image_index=1
audio_play_sound(sndBreakDoor,0,false)
global.shake=16
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>doorx=lengthdir_x(45.65,image_angle+331.2)
doory=lengthdir_y(45.65,image_angle+331.2)
draw_sprite_ext(sprite_index,image_index,x,y,1,1,image_angle,image_blend,image_alpha)
if sprite_index=sprVanTop or sprite_index=sprVanDoorsOpen {
draw_sprite_ext(sprVanDoor,0,x+doorx,y+doory,1,1,image_angle+doorangle,c_white,1)
if doorangle&lt;90 doorangle+=3
}
if sprite_index=sprVanDoorsOpen {
if image_index&gt;20 and image_index&lt;48 {
if instance_exists(objPlayer) headdir=scrRotate(headdir,point_direction(x,y,objPlayer.x,objPlayer.y),6)
headx=lengthdir_x(30.2,325.8+image_angle)
heady=lengthdir_y(30.2,325.8+image_angle)
draw_sprite_ext(sprBoss3Head,0,x+headx,y+heady,1,1,headdir+image_angle,c_white,1)
}
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if !instance_exists(objPlayer) {
objEffector.fade=1
}</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
