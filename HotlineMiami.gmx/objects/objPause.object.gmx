<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 scrInitXboxButtons()
blur=0
on=1
dir=0
blacky=0
target_blur=1
textdir1=0
textdir2=0
surface_set_target(global.surf1)
draw_clear_alpha(c_black,0)
surface_alpha()
surface_reset_target()
test=1
i=0
repeat (16) {
if global.letter[i]=1 test=0
i+=1
}
choice[0]="Resume"
choice[1]="Puzzle"
choice[2]="Restart"
choice[3]="Quit"
select=0
fade=0
c_amount=180
state=0
wait=0
width=display_get_width()
lowres=(1200/900)*(1/3)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if wait&gt;0 wait-=1
if global.xbox=1 {
if checkbutton(0,getid(5)) {
if presstart=0 {
presstart=1
scrXboxPauseStart()
} 
} else presstart=0

if checkbutton(0,getid(6)) {
if pressback=0 {
pressback=1
scrXboxPauseBack()
} 
} else pressback=0


if leftthumb_y(0)&gt;5000 {
if pressup=0 {
pressup=1
scrXboxPauseUp()
}
} else pressup=0

if leftthumb_y(0)&lt;-5000 {
if pressdown=0 {
pressdown=1
scrXboxPauseDown()
}
} else pressdown=0

}
if keyboard_check_pressed(ord(global.upkey)) event_perform(ev_keypress,ord('W'))
if keyboard_check_pressed(ord(global.downkey)) event_perform(ev_keypress,ord('S'))

SteamRunCallbacks()
if !surface_exists(global.surf1) {
global.surf1=surface_create(room_width,room_height)
surface_set_target(global.surf1)
draw_clear_alpha(c_black,0)
surface_reset_target()
}
surface_set_target(global.surf1)
draw_clear_alpha(c_black,0)
text="PAUSE"
if on=1 {if textdir2&lt;180 textdir2+=10} else {textdir2=blacky*180}
if on=1 factor=0.5-lengthdir_x(0.5,textdir2) else {if factor&gt;0 factor-=0.05 else {if on=2 {if !instance_exists(objPuzzle) instance_create(x,y,objPuzzle)}}}
i=0
draw_set_font(fntUnlock)
draw_set_halign(fa_left)
draw_set_valign(fa_center)
start_x=view_wview[0]/2-string_width(text)*0.5
repeat (string_length(text))*factor {
letter=string_copy(text,1+i,1)
ii=0
repeat (5+lengthdir_x(4,textdir1+i*60)) {
draw_set_color(merge_color(c_teal,c_white,ii*0.1))
draw_text_transformed(start_x,room_height*0.35-ii*0.5,letter,1+ii*0.01,1+ii*0.01,0)
ii+=1
}
start_x+=string_width(letter)
i+=1
}
draw_set_font(fntMenu)
i=0
ii=0
repeat (4) {
if select=i {
repeats=6+lengthdir_x(5,dir*2)
if on=1 {
if frac(i*0.5)&gt;0 addx=260*(1-factor) else addx=-260*(1-factor)
} else {
if frac(i*0.5)&gt;0 addx=-260*(1-factor) else addx=260*(1-factor)
}
repeat (repeats) {
draw_set_color(merge_color(c_fuchsia,c_white,ii*0.085))
draw_text(room_width/2-56+ii+addx,room_height/2+i*20,choice[i])
ii+=1
}
} else {
if on=1 {
if frac(i*0.5)&gt;0 addx=260*(1-factor) else addx=-260*(1-factor)
} else {
if frac(i*0.5)&gt;0 addx=-260*(1-factor) else addx=260*(1-factor)
}
amount=0.5+lengthdir_x(0.5,dir*2)
if test=1 and i=1 draw_set_color(merge_color(c_white,c_dkgray,amount)) else draw_set_color(merge_color(c_white,c_aqua,amount))
draw_text(room_width/2-56+1+addx,room_height/2+i*20+1,choice[i])
amount=0.5-lengthdir_x(0.5,dir*2)
if test=1 and i=1 draw_set_color(merge_color(c_white,c_dkgray,amount)) else draw_set_color(merge_color(c_white,c_aqua,amount))
draw_text(room_width/2-56+addx,room_height/2+i*20,choice[i])
}
i+=1
}



textdir1-=4
surface_alpha()
surface_reset_target()
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="6" enumb="53">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 exit
if state=0 {
if select=0 {
if fade=0 {
global.paused=1
if blacky&gt;=1 on=0
}
} 
if select=1 {on=2 state=1}
if select=2 {game_load("restart.dat")}
if select=3 {if on=1 fade=1}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//d3d_set_projection_ortho(0,0,399,255,0)
if sprite_exists(global.sprite) {
if on&gt;0 {
if blur&lt;1 blur+=0.1
if blacky&lt;1 blacky+=0.05
} else {
if on=0 {
if blur&gt;0 blur-=0.05 
if blacky&gt;0 blacky-=0.05 else {
if sprite_exists(global.sprite) sprite_delete(global.sprite)
if file_exists(working_directory+"\pause.bmp") file_delete(working_directory+"\pause.bmp")
room=global.lastroom
exit
}
}
}
color1=merge_color(c_red,c_aqua,0.5+lengthdir_x(0.5,dir))
color2=make_color_hsv(0,0,45+lengthdir_x(20,dir*3))
myx=lengthdir_x(0.5*blur,dir*1.35)
myy=lengthdir_y(0.5*blur,dir*1.35)
merge_color(c_black,color2,blur)
dir+=2
if width&lt;1200 {
draw_sprite_ext(global.sprite,0,myx,myy,lowres,lowres,0,merge_color(c_white,color1,blur*0.5),0.8+lengthdir_x(0.2,dir))
draw_sprite_ext(global.sprite,0,-myx,-myy,lowres,lowres,0,merge_color(c_white,color1,blur*0.5),0.8-lengthdir_x(0.2,dir))
} else {
draw_sprite_ext(global.sprite,0,myx,myy,1/3,1/3,0,merge_color(c_white,color1,blur*0.5),0.8+lengthdir_x(0.2,dir))
draw_sprite_ext(global.sprite,0,-myx,-myy,1/3,1/3,0,merge_color(c_white,color1,blur*0.5),0.8-lengthdir_x(0.2,dir))
}
/*draw_set_blend_mode(bm_normal)
if blur&gt;0 {
i=0
repeat (8) {
draw_sprite_ext(global.sprite,0,myx+lengthdir_x(0.5*blur,i*45),myy+lengthdir_y(0.5*blur,i*45),1/3,1/3,0,c_white,0.25-random(0.05))
i+=3
}
i=0
repeat (8) {
draw_sprite_ext(global.sprite,0,myx+lengthdir_x(1*blur,i*45),myy+lengthdir_y(1*blur,i*45),1/3,1/3,0,c_white,0.15-random(0.05))
i+=3
}
}*/
}
if surface_exists(global.surf1) {
draw_surface_ext(global.surf1,-1,0,1,1,0,c_black,1)
draw_surface_ext(global.surf1,1,0,1,1,0,c_black,1)
draw_surface_ext(global.surf1,0,1,1,1,0,c_black,1)
draw_surface_ext(global.surf1,0,-1,1,1,0,c_black,1)

draw_surface_ext(global.surf1,0,0,1,1,0,c_white,1)
}

if fade=1 {
if c_amount&gt;0  {
c_amount-=5
sxeasy_setVolume(c_amount*((1-blur*0.5)/180))
color1=merge_color(c_black,merge_color(c_aqua,c_white,0.5+lengthdir_x(0.5,c_amount)),0.5+lengthdir_x(0.5,c_amount))
if c_amount&gt;90 color2=merge_color(c_black,merge_color(c_fuchsia,c_white,abs(lengthdir_y(1,c_amount))),abs(lengthdir_y(1,c_amount))) else color2=c_white
draw_set_blend_mode(bm_subtract)
draw_rectangle_color(view_xview[0]-10,view_yview[0]-10,view_xview[0]+view_wview[0]+10,view_yview[0]+view_hview[0]+10,color2,color1,color1,color2,0)
draw_set_blend_mode(bm_normal)
} else { sxeasy_stop(1) sxeasy_setVolume(0) bgm_Close() game_restart()
}
} else {
sxeasy_setVolume(1-blur*0.5)
}

draw_set_blend_mode(bm_subtract)
my_y=random(32)
draw_sprite_tiled(sprScanlines,0,0,my_y)
draw_set_blend_mode(bm_subtract)
draw_circle_color(view_wview[0]/2,view_hview[0]/2,240+random(24),c_black,merge_color(c_navy,c_aqua,0.25+random(0.25)),0)
draw_set_blend_mode(bm_normal)
draw_set_color(c_black)
draw_rectangle(0,0,room_width+1,44*blacky,0)
draw_rectangle(0,room_height-44*blacky,room_width+1,room_height,0)

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="87">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if on=0 or fade=1 or wait&gt;0 exit
wait=3
if select&gt;0 select-=1 else select=3
if select=1 and test=1 select=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="83">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if on=0 or fade=1 or wait&gt;0 exit
wait=3
if select&lt;3 select+=1 else select=0
if select=1 and test=1 select=2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="40">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_perform(ev_keypress,ord('S'))</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="38">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_perform(ev_keypress,ord('W'))</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="32">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_perform(ev_mouse,ev_global_left_press)</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="27">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if global.xbox=1 exit
if state=0 {
global.paused=1
if blacky&gt;=1 on=0
}</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="13">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>event_perform(ev_mouse,ev_global_left_press)</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
